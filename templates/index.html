<!DOCTYPE html>
<HTML>
    <head>
        <meta charset="UTF-8">
        <title>AtmosSense</title>
        <link rel="stylesheet" href="./static/style.css">

        <!-- Leaflet CSS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
        <!-- Leaflet JS -->
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    </head>
    <body>
        <img src = "./static/Logo.png">
        <form method="POST" action="/" id="login-details">
            <label >Enter the pin code : </label>
            <input type="text" name="pin" value="{{default_pin}}">
            <p class="center-div-align">OR</p>
            <label >Enter location : </label>
            <input type="text" name="location" value="{{default_location}}">
            <br>
            <input type="submit" class="submit-div-align" value="Submit">
        </form>
    <div id="map" style="height: 500px; width: 90%; margin: 30px auto; border: 2px solid white; border-radius: 12px;"></div>

    <script>
        // Default location - Bangalore (can be updated with geocoding later)
        var lat = 12.9716;
        var lon = 77.5946;

        // Initialize map
        var map = L.map('map').setView([lat, lon], 12);

        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© OpenStreetMap contributors'
        }).addTo(map);

        // Add marker
        L.marker([lat, lon]).addTo(map)
            .bindPopup("Showing data for: {{ location }} or PIN {{ pin }}")
            .openPopup();
    </script>
    </body>
</HTML>
